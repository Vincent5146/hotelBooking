(function(t){function e(e){for(var a,o,i=e[0],l=e[1],u=e[2],s=0,d=[];s<i.length;s++)o=i[s],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&d.push(c[o][0]),c[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);b&&b(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var i=n[o];0!==c[i]&&(a=!1)}a&&(r.splice(e--,1),t=l(l.s=n[0]))}return t}var a={},o={app:0},c={app:0},r=[];function i(t){return l.p+"js/"+({about:"about"}[t]||t)+"."+{about:"97b735f7"}[t]+".js"}function l(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(t){var e=[],n={about:1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=new Promise((function(e,n){for(var a="css/"+({about:"about"}[t]||t)+"."+{about:"fead7ca8"}[t]+".css",c=l.p+a,r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var u=r[i],s=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(s===a||s===c))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],s=u.getAttribute("data-href");if(s===a||s===c)return e()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=e,b.onerror=function(e){var a=e&&e.target&&e.target.src||c,r=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete o[t],b.parentNode.removeChild(b),n(r)},b.href=c;var f=document.getElementsByTagName("head")[0];f.appendChild(b)})).then((function(){o[t]=0})));var a=c[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,n){a=c[t]=[e,n]}));e.push(a[2]=r);var u,s=document.createElement("script");s.charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.src=i(t);var d=new Error;u=function(e){s.onerror=s.onload=null,clearTimeout(b);var n=c[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",d.name="ChunkLoadError",d.type=a,d.request=o,n[1](d)}c[t]=void 0}};var b=setTimeout((function(){u({type:"timeout",target:s})}),12e4);s.onerror=s.onload=u,document.head.appendChild(s)}return Promise.all(e)},l.m=t,l.c=a,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(n,a,function(e){return t[e]}.bind(null,a));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/hotelBooking/",l.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var b=s;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0072":function(t,e,n){},"0c93":function(t,e,n){},"269b":function(t,e,n){},"30f5":function(t,e,n){"use strict";n("0c93")},3448:function(t,e,n){},"365c":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return u}));var a=n("bc3a"),o=n.n(a),c="5vb2SwD1x3INx7ucX0xNxZghPU08fvPgNzmd15iFN402d5tAoTY4wnVXNLyf",r=o.a.create({baseURL:"https://challenge.thef2e.com/api/thef2e2019/stage6",headers:{Authorization:"Bearer ".concat(c),accept:"application/json"}}),i=function(){return r.get("/rooms")},l=function(t){return r.get("/room/".concat(t))},u=function(t,e){return r.post("/room/".concat(t),e)}},"3a87":function(t,e,n){"use strict";n("269b")},"4d98":function(t,e,n){"use strict";n("0072")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function o(t,e,n,o,c,r){var i=Object(a["I"])("Loading"),l=Object(a["I"])("Modal"),u=Object(a["I"])("router-view");return Object(a["A"])(),Object(a["h"])(a["a"],null,[t.isLoading?(Object(a["A"])(),Object(a["f"])(i,{key:0})):Object(a["g"])("",!0),t.currentModal?(Object(a["A"])(),Object(a["f"])(l,{key:1,componentName:t.currentModal},null,8,["componentName"])):Object(a["g"])("",!0),Object(a["l"])(u)],64)}var c=n("5530"),r=n("5502"),i=function(t){return Object(a["D"])("data-v-3b6a7ee3"),t=t(),Object(a["B"])(),t},l={class:"loading"},u=i((function(){return Object(a["i"])("div",{class:"loading_text"},"Loading...",-1)})),s=[u];function d(t,e,n,o,c,r){return Object(a["A"])(),Object(a["h"])("div",l,s)}var b={name:"Loading"},f=(n("b996"),n("6b0d")),O=n.n(f);const j=O()(b,[["render",d],["__scopeId","data-v-3b6a7ee3"]]);var h=j;function p(t,e,n,o,c,r){return Object(a["A"])(),Object(a["f"])(Object(a["J"])(n.componentName))}var m=Object(a["i"])("div",{class:"error"},[Object(a["i"])("h1",null,"預約失敗"),Object(a["i"])("h2",null,"\\"),Object(a["i"])("h3",null,"預約時間已被人預訂")],-1),v={class:"goBackBox"};function g(t,e,n,o,c,r){var i=Object(a["I"])("Modal");return Object(a["A"])(),Object(a["f"])(i,null,{default:Object(a["Q"])((function(){return[m,Object(a["i"])("div",v,[Object(a["i"])("button",{class:"goBack",onClick:e[0]||(e[0]=function(e){return t.handleModal(null)})},"返回")])]})),_:1})}var y={class:"modal"},k={class:"modal-content"};function M(t,e,n,o,c,r){return Object(a["A"])(),Object(a["h"])("div",y,[Object(a["i"])("div",{class:"modal-mask",onClick:e[0]||(e[0]=function(e){return t.handleModal(null)})}),Object(a["i"])("div",k,[Object(a["H"])(t.$slots,"default",{},void 0,!0)])])}var D={methods:Object(c["a"])({},Object(r["b"])("modal",["handleModal"]))};n("4d98");const w=O()(D,[["render",M],["__scopeId","data-v-a87c3954"]]);var C=w,L={name:"ModalError",components:{Modal:C},methods:Object(c["a"])({},Object(r["b"])("modal",["handleModal"]))};n("6923");const A=O()(L,[["render",g]]);var _=A,I=Object(a["i"])("div",{class:"success"},[Object(a["i"])("h1",null,"預約成功"),Object(a["i"])("h2",null,"\\")],-1),x={class:"goBackBox"};function B(t,e,n,o,c,r){var i=Object(a["I"])("Modal");return Object(a["A"])(),Object(a["f"])(i,null,{default:Object(a["Q"])((function(){return[I,Object(a["i"])("div",x,[Object(a["i"])("button",{class:"goBack",onClick:e[0]||(e[0]=function(e){return t.$router.push({name:"Home"})})},"回首頁")])]})),_:1})}var P={name:"ModalSuccess",components:{Modal:C}};n("c829");const Y=O()(P,[["render",B]]);var N=Y,S=(n("b0c0"),{class:"booking"}),E=Object(a["i"])("h1",null,"預約時段",-1),T=Object(a["i"])("p",null,"\\",-1),U={class:"cutomerInfo"},$=Object(a["i"])("h2",null,"姓名",-1),R={class:"cutomerInfo"},V=Object(a["i"])("h2",null,"電話",-1),H={class:"cutomerInfo"},Q=Object(a["i"])("h2",null,"預約起訖",-1),q=["value"],J=["value"],z={class:"bookingRange"},F=Object(a["i"])("p",null,[Object(a["k"])("平日時段"),Object(a["i"])("br"),Object(a["i"])("br"),Object(a["k"])("假日時段")],-1),X=Object(a["i"])("br",null,null,-1),G=Object(a["i"])("br",null,null,-1),K=Object(a["i"])("span",{class:"price"},"=",-1),Z={class:"btn"};function W(t,e,n,o,c,r){var i=this,l=Object(a["I"])("v-date-picker"),u=Object(a["I"])("Modal");return Object(a["A"])(),Object(a["f"])(u,null,{default:Object(a["Q"])((function(){return[Object(a["i"])("div",S,[E,T,Object(a["i"])("div",U,[$,Object(a["R"])(Object(a["i"])("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=function(t){return c.data.name=t})},null,512),[[a["O"],c.data.name]])]),Object(a["i"])("div",R,[V,Object(a["R"])(Object(a["i"])("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=function(t){return c.data.tel=t})},null,512),[[a["O"],c.data.tel]])]),Object(a["i"])("div",H,[Q,Object(a["l"])(l,{modelValue:c.range,"onUpdate:modelValue":e[2]||(e[2]=function(t){return c.range=t}),mode:"date","is-range":"","disabled-dates":t.bookingConfigs.disabledDates,onClick:e[3]||(e[3]=function(t){return r.counting()})},{default:Object(a["Q"])((function(t){var e=t.inputValue,n=t.inputEvents;return[Object(a["i"])("input",Object(a["r"])({value:e.start},Object(a["M"])(n.start)),null,16,q),Object(a["i"])("input",Object(a["r"])({value:e.end},Object(a["M"])(n.end)),null,16,J)]})),_:1},8,["modelValue","disabled-dates"])]),Object(a["i"])("div",z,[F,Object(a["i"])("p",null,[Object(a["k"])(Object(a["L"])(i.normalDate.length)+"夜",1),X,G,Object(a["k"])(Object(a["L"])(i.holidayDate.length)+"夜",1)])]),Object(a["i"])("h3",null,[K,Object(a["k"])("NT. "+Object(a["L"])(c.totalPrice),1)]),Object(a["i"])("div",Z,[Object(a["i"])("button",{class:"delete",onClick:e[4]||(e[4]=function(e){return t.handleModal(null)})},"取消"),Object(a["i"])("button",{class:"confirm",onClick:e[5]||(e[5]=function(t){return r.bookings(c.data)})},"確定預約")])])]})),_:1})}n("d81d"),n("a434"),n("4de4"),n("d3b7");var tt=n("365c"),et=n("5a0c"),nt=n.n(et),at={name:"ModalBooking",components:{Modal:C},data:function(){return{data:{name:"",tel:"",date:[]},range:{start:new Date,end:new Date},totalDate:[],normalDate:[],holidayDate:[],totalPrice:0}},computed:Object(c["a"])({},Object(r["c"])("modal",["bookingConfigs"])),methods:Object(c["a"])({counting:function(){var t=this.range,e=t.start,n=t.end;if(e!==n)for(var a=0;a<=nt()(n).diff(e,"day");a++)this.totalDate.push(nt()(e).add(a,"day").format("YYYY/MM/DD"));else e===n&&this.totalDate.push(nt()(e).format("YYYY/MM/DD"));this.totalDate=this.totalDate.map((function(t){return t=new Date(t).getDay(),t})),this.totalDate.splice(0,1),this.normalDate=this.totalDate.filter((function(t){return t<6&&t>0})),this.holidayDate=this.totalDate.filter((function(t){return!(t<6&&t>0)})),this.totalPrice=this.bookingConfigs.priceInfo.normal*this.normalDate.length+this.bookingConfigs.priceInfo.holiday*this.holidayDate.length,this.totalDate=[]},bookings:function(t){var e=this,n=this.$route.params.room_id,a=this.range,o=a.start,c=a.end;if(o!==c)for(var r=0;r<=nt()(c).diff(o,"day");r++)this.data.date.push(nt()(o).add(r,"day").format("YYYY-MM-DD"));else o===c&&this.data.date.push(nt()(o).format("YYYY-MM-DD"));Object(tt["a"])(n,t).then((function(t){t.data.success?e.$store.dispatch("modal/handleModal","ModalSuccess"):e.$store.dispatch("modal/handleModal","ModalError")})),this.totalDate=[]}},Object(r["b"])("modal",["handleModal"]))};n("df45");const ot=O()(at,[["render",W]]);var ct=ot,rt={components:{ModalError:_,ModalSuccess:N,ModalBooking:ct},props:{componentName:{type:String}}};const it=O()(rt,[["render",p]]);var lt=it,ut={components:{Loading:h,Modal:lt},computed:Object(c["a"])(Object(c["a"])({},Object(r["c"])("loading",["isLoading"])),Object(r["c"])("modal",["currentModal"]))};n("30f5");const st=O()(ut,[["render",o]]);var dt=st,bt=(n("3ca3"),n("ddb0"),n("6c02")),ft={class:"home"},Ot=Object(a["j"])('<div class="header"><div class="logo"></div><div class="contactInfo"><div class="socialMedia"><a href="#"><span><i class="fab fa-facebook-square"></i></span></a><a href="#"><span><i class="fab fa-instagram"></i></span></a></div><div class="info"><div><span><i class="fas fa-phone-alt"></i></span>02-17264937 </div><div><span><i class="fas fa-envelope"></i></span>whitespace@whitespace.com.tw </div><div><span><i class="fas fa-home"></i></span>台北市羅斯福路十段30號 </div></div></div></div>',1),jt={class:"container"},ht={class:"roomList"},pt={key:0};function mt(t,e,n,o,c,r){var i=Object(a["I"])("Card");return Object(a["A"])(),Object(a["h"])("div",ft,[Ot,Object(a["i"])("div",jt,[Object(a["i"])("div",ht,[c.rooms.length>0?(Object(a["A"])(),Object(a["h"])("ul",pt,[(Object(a["A"])(!0),Object(a["h"])(a["a"],null,Object(a["G"])(c.rooms,(function(e){return Object(a["A"])(),Object(a["h"])("li",{key:e.id},[Object(a["l"])(i,{card:e,"onCard:click":function(n){return t.$router.push({name:"About",params:{room_id:e.id}})}},null,8,["card","onCard:click"])])})),128))])):Object(a["g"])("",!0)])])])}var vt=n("1da1"),gt=(n("96cf"),function(t){return Object(a["D"])("data-v-e79b47f0"),t=t(),Object(a["B"])(),t}),yt={class:"card"},kt={class:"roomInfo"},Mt={class:"prices"},Dt=gt((function(){return Object(a["i"])("span",{class:"wday"},"平日",-1)})),wt={class:"hday"};function Ct(t,e,n,o,c,r){return Object(a["A"])(),Object(a["h"])("div",yt,[Object(a["i"])("div",{class:"picture",style:Object(a["u"])({backgroundImage:"url(".concat(n.card.imageUrl,")")}),onClick:e[0]||(e[0]=function(e){return t.$emit("card:click")})},null,4),Object(a["i"])("div",kt,[Object(a["i"])("h2",null,Object(a["L"])(n.card.name),1),Object(a["i"])("div",Mt,[Object(a["i"])("h3",null,Object(a["L"])(n.card.name),1),Object(a["i"])("h1",null,[Object(a["k"])(Object(a["L"])(n.card.normalDayPrice)+" ",1),Dt,Object(a["i"])("span",wt,Object(a["L"])(n.card.holidayPrice)+" 假日",1)])])])])}var Lt={name:"Card",props:{card:{type:Object,default:function(){return{holidayPrice:1500,id:"",imageUrl:"",name:"",normalDayPrice:""}}}},data:function(){return{}}};n("a506");const At=O()(Lt,[["render",Ct],["__scopeId","data-v-e79b47f0"]]);var _t=At,It={components:{Card:_t},data:function(){return{rooms:[]}},methods:Object(c["a"])(Object(c["a"])({goRoom:function(t){this.$router.push("/about/".concat(t))}},Object(r["b"])("loading",["handleLoading"])),Object(r["b"])("modal",["handleModal"])),mounted:function(){var t=this;return Object(vt["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.handleLoading(!0),e.next=4,Object(tt["c"])();case 4:n=e.sent,t.rooms=n.data.items,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.warn(e.t0);case 11:return e.prev=11,t.handleLoading(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))()}};n("3a87");const xt=O()(It,[["render",mt]]);var Bt=xt,Pt=[{path:"/",name:"Home",component:Bt},{path:"/about/:room_id",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],Yt=Object(bt["a"])({history:Object(bt["b"])(),routes:Pt}),Nt=Yt,St={state:{isLoading:!1},actions:{handleLoading:function(t,e){var n=t.commit;n("updateLoading",e)}},mutations:{updateLoading:function(t,e){t.isLoading=e}},namespaced:!0},Et=St,Tt={state:{currentModal:"",bookingConfigs:{disabledDates:[],priceInfo:{normal:0,holiday:0}}},actions:{handleModal:function(t,e){var n=t.commit;n("updateCurrentModal",e)},showBookingModal:function(t,e){var n=t.commit,a=t.dispatch;n("setBookingConfigs",e),a("handleModal","ModalBooking")}},mutations:{updateCurrentModal:function(t,e){t.currentModal=e},setBookingConfigs:function(t,e){t.bookingConfigs=e}},namespaced:!0},Ut=Tt,$t=Object(r["a"])({modules:{loading:Et,modal:Ut}}),Rt=(n("fb98"),n("15f5"),n("7051"),n("825ae")),Vt=n("7b37");Object(a["e"])(dt).use($t).use(Nt).use(Rt["a"]).use(Vt["a"],{}).mount("#app")},6923:function(t,e,n){"use strict";n("3448")},"79b4":function(t,e,n){},"804e":function(t,e,n){},a506:function(t,e,n){"use strict";n("804e")},ab83:function(t,e,n){},b996:function(t,e,n){"use strict";n("ab83")},c829:function(t,e,n){"use strict";n("f7de")},df45:function(t,e,n){"use strict";n("79b4")},f7de:function(t,e,n){},fb98:function(t,e,n){}});
//# sourceMappingURL=app.ba804595.js.map